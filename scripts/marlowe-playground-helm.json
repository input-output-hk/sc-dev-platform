{
    "apiVersion": "core.oam.dev/v1beta1",
    "kind": "Application",
    "metadata": {
        "name": "marlowe-playground-helm",
        "namespace": "marlowe-staging"
    },
    "spec": {
        "components": [
            {
                "name": "marlowe-playground-helm",
                "properties": {
                    "chart": "deploy",
                    "git": {
                        "branch": "main"
                    },
                    "repoType": "git",
                    "retries": 3,
                    "secretRef": "",
                    "url": "https://github.com/input-output-hk/marlowe-playground"
                },
                "type": "helm"
            }
        ],
        "policies": [
            {
                "name": "local-marlowe-staging",
                "properties": {
                    "clusters": [
                        "local"
                    ],
                    "namespace": "marlowe-staging"
                },
                "type": "topology"
            }
        ],
        "workflow": {
            "mode": {
                "steps": "DAG"
            },
            "steps": [
                {
                    "meta": {
                        "alias": "Deploy To local-marlowe-production"
                    },
                    "name": "local-marlowe-production",
                    "properties": {
                        "policies": []
                    },
                    "type": "deploy"
                },
                {
                    "meta": {
                        "alias": "Deploy To local-marlowe-staging"
                    },
                    "name": "local-marlowe-staging",
                    "properties": {
                        "policies": [
                            "local-marlowe-staging"
                        ]
                    },
                    "type": "deploy"
                }
            ]
        }
    }
}